## 배치처리
* 타임테이블 서비스의 경우 basicRemaining 이라고 하는, 
* 하나의 타임테이블이 예약을 받을 수 있는 예약 최대 수와
* remaining 이라고 하는 잔여 예약 수가 있다.
* 잔여 예약수는 예약이 발생하면 마이너스 되지만
* 최대 예약수는 변경되지 않는다.
* 하루가 끝나면 잔여 예약수는 복구되어야한다.
* 가게에서 하루를 기준으로 새롭게 예약을 받기 때문이다.

## 메커니즘
* 매일 저녁 12시 정각이 되면 하루동안 변경되었던 예약 가능자 수(remaining)를,
* 최대 예약 가능자 수(basicRemaining)로 복구시킨다.
* 기본적으로 배치는 스케줄러와 크론식을 이용한다.
* 모든 데이터에 대해 remaining(남은 예약 가능자 수)를
* basicRemaining(최대 예약 가능자수) 으로 변경하면된다.
* 벌크 연산을 사용해 모든 데이터에 대해 처리하면 된다.
### 기준 컬럼
* 기본 예약 가능자수 컬럼은 복구해야하는 기준이 된다.
* 이 경우 이 값은 절대로 변경되어서는 안된다.
* 따라서 updatable = false로 설정하여서 변경불가능 하도록 한다.
* 이러한 매커니즘의 단점은, 최대 예약 가능자수를 수정하려면
* 타임테이블을 삭제하고, 새롭게 다시 만들어야한다는 것이다.
* 그러나 이러한 예약 서비스를 사용하는 비즈니스를 생각해볼때
* 이러한 예약 가능자수는 현실세계에서,
* 즉 호텔의 방의 수나 미용실의 직원 수 혹은 의자 수 등 잘 바뀌지 않는 것들이다.
* 따라서 이러한 변경이 존재할경우 삭제하고 만들라고 권하는 것은 그렇게 큰 불편함을 야기하지 않는다.